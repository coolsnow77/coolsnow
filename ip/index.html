<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
        <title>JavaScript获取客户端IP</title>
    </head>
    <body>
        <!-- [利用新浪接口] -->
        <script type="text/javascript" src="http://counter.sina.com.cn/ip/"
            charset="gb2312"></script>       <!--获取接口数据，注意charset -->
        <!--
        <script type="text/javascript">
            document.writeln("IP地址："+ILData[0]+"<br />");
            //输出接口数据中的IP地址
            document.writeln("地址类型："+ILData[1]+"<br />");
            //输出接口数据中的IP地址的类型
            document.writeln("地址类型："+ILData[2]+"<br />");
            //输出接口数据中的IP地址的省市
            document.writeln("地址类型："+ILData[3]+"<br />");
            //输出接口数据中的IP地址的
            document.writeln("地址类型："+ILData[4]+"<br />");
            //输出接口数据中的IP地址的运营商
        </script>
        -->

        <p> </p>
        <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
        <script type="text/javascript">
            var ipStr = "当前IP: "+ returnCitySN["cip"]+' '+ "来自: "+returnCitySN["cname"];
            alert("ip: " + ipStr);
            document.getElementByClassName('getIpClass').innerHTML = ipStr;
        </script>

        <div>
            <p class="getIpClass"></p>
        </div>
    </body>
</html>
